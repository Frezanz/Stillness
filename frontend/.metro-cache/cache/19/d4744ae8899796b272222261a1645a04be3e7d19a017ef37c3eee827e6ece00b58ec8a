{"dependencies":[{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AudioManager\", {\n    enumerable: true,\n    get: function () {\n      return AudioManager;\n    }\n  });\n  Object.defineProperty(exports, \"audioManager\", {\n    enumerable: true,\n    get: function () {\n      return audioManager;\n    }\n  });\n  var _expoAv = require(_dependencyMap[0], \"expo-av\");\n  class AudioManager {\n    sounds = new Map();\n    masterVolumeCap = 0.3; // 30% master cap as specified\n\n    async loadSound(track) {\n      try {\n        if (this.sounds.has(track.id)) {\n          return; // Already loaded\n        }\n        const {\n          sound\n        } = await _expoAv.Audio.Sound.createAsync(track.file, {\n          isLooping: true,\n          volume: 0\n        });\n        this.sounds.set(track.id, sound);\n      } catch (error) {\n        console.error(`Error loading sound ${track.id}:`, error);\n      }\n    }\n    async playSound(trackId, volume) {\n      try {\n        const sound = this.sounds.get(trackId);\n        if (!sound) {\n          console.error(`Sound ${trackId} not loaded`);\n          return;\n        }\n        const status = await sound.getStatusAsync();\n        const adjustedVolume = volume / 100 * this.masterVolumeCap;\n        if (status.isLoaded) {\n          await sound.setVolumeAsync(adjustedVolume);\n          if (!status.isPlaying) {\n            await sound.playAsync();\n          }\n        }\n      } catch (error) {\n        console.error(`Error playing sound ${trackId}:`, error);\n      }\n    }\n    async stopSound(trackId) {\n      try {\n        const sound = this.sounds.get(trackId);\n        if (!sound) return;\n        const status = await sound.getStatusAsync();\n        if (status.isLoaded && status.isPlaying) {\n          await sound.stopAsync();\n          await sound.setPositionAsync(0);\n        }\n      } catch (error) {\n        console.error(`Error stopping sound ${trackId}:`, error);\n      }\n    }\n    async setVolume(trackId, volume) {\n      try {\n        const sound = this.sounds.get(trackId);\n        if (!sound) return;\n        const adjustedVolume = volume / 100 * this.masterVolumeCap;\n        await sound.setVolumeAsync(adjustedVolume);\n      } catch (error) {\n        console.error(`Error setting volume for ${trackId}:`, error);\n      }\n    }\n    async stopAll() {\n      try {\n        const promises = Array.from(this.sounds.keys()).map(id => this.stopSound(id));\n        await Promise.all(promises);\n      } catch (error) {\n        console.error('Error stopping all sounds:', error);\n      }\n    }\n    async unloadAll() {\n      try {\n        for (const [id, sound] of this.sounds.entries()) {\n          await sound.unloadAsync();\n          this.sounds.delete(id);\n        }\n      } catch (error) {\n        console.error('Error unloading sounds:', error);\n      }\n    }\n  }\n  const audioManager = new AudioManager();\n});","lineCount":102,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"AudioManager"],[10,25,4,0],[11,4,4,0],[12,2,4,0],[13,2,99,0,"Object"],[13,8,99,0],[13,9,99,0,"defineProperty"],[13,23,99,0],[13,24,99,0,"exports"],[13,31,99,0],[14,4,99,0,"enumerable"],[14,14,99,0],[15,4,99,0,"get"],[15,7,99,0],[15,18,99,0,"get"],[15,19,99,0],[16,6,99,0],[16,13,99,0,"audioManager"],[16,25,99,0],[17,4,99,0],[18,2,99,0],[19,2,1,0],[19,6,1,0,"_expoAv"],[19,13,1,0],[19,16,1,0,"require"],[19,23,1,0],[19,24,1,0,"_dependencyMap"],[19,38,1,0],[20,2,4,7],[20,8,4,13,"AudioManager"],[20,20,4,25],[20,21,4,26],[21,4,5,10,"sounds"],[21,10,5,16],[21,13,5,45],[21,17,5,49,"Map"],[21,20,5,52],[21,21,5,53],[21,22,5,54],[22,4,6,10,"masterVolumeCap"],[22,19,6,25],[22,22,6,28],[22,25,6,31],[22,26,6,32],[22,27,6,33],[24,4,8,2],[24,10,8,8,"loadSound"],[24,19,8,17,"loadSound"],[24,20,8,18,"track"],[24,25,8,35],[24,27,8,52],[25,6,9,4],[25,10,9,8],[26,8,10,6],[26,12,10,10],[26,16,10,14],[26,17,10,15,"sounds"],[26,23,10,21],[26,24,10,22,"has"],[26,27,10,25],[26,28,10,26,"track"],[26,33,10,31],[26,34,10,32,"id"],[26,36,10,34],[26,37,10,35],[26,39,10,37],[27,10,11,8],[27,17,11,15],[27,18,11,16],[28,8,12,6],[29,8,14,6],[29,14,14,12],[30,10,14,14,"sound"],[31,8,14,20],[31,9,14,21],[31,12,14,24],[31,18,14,30,"Audio"],[31,25,14,35],[31,26,14,35,"Audio"],[31,31,14,35],[31,32,14,36,"Sound"],[31,37,14,41],[31,38,14,42,"createAsync"],[31,49,14,53],[31,50,15,8,"track"],[31,55,15,13],[31,56,15,14,"file"],[31,60,15,18],[31,62,16,8],[32,10,17,10,"isLooping"],[32,19,17,19],[32,21,17,21],[32,25,17,25],[33,10,18,10,"volume"],[33,16,18,16],[33,18,18,18],[34,8,19,8],[34,9,20,6],[34,10,20,7],[35,8,22,6],[35,12,22,10],[35,13,22,11,"sounds"],[35,19,22,17],[35,20,22,18,"set"],[35,23,22,21],[35,24,22,22,"track"],[35,29,22,27],[35,30,22,28,"id"],[35,32,22,30],[35,34,22,32,"sound"],[35,39,22,37],[35,40,22,38],[36,6,23,4],[36,7,23,5],[36,8,23,6],[36,15,23,13,"error"],[36,20,23,18],[36,22,23,20],[37,8,24,6,"console"],[37,15,24,13],[37,16,24,14,"error"],[37,21,24,19],[37,22,24,20],[37,45,24,43,"track"],[37,50,24,48],[37,51,24,49,"id"],[37,53,24,51],[37,56,24,54],[37,58,24,56,"error"],[37,63,24,61],[37,64,24,62],[38,6,25,4],[39,4,26,2],[40,4,28,2],[40,10,28,8,"playSound"],[40,19,28,17,"playSound"],[40,20,28,18,"trackId"],[40,27,28,33],[40,29,28,35,"volume"],[40,35,28,49],[40,37,28,66],[41,6,29,4],[41,10,29,8],[42,8,30,6],[42,14,30,12,"sound"],[42,19,30,17],[42,22,30,20],[42,26,30,24],[42,27,30,25,"sounds"],[42,33,30,31],[42,34,30,32,"get"],[42,37,30,35],[42,38,30,36,"trackId"],[42,45,30,43],[42,46,30,44],[43,8,31,6],[43,12,31,10],[43,13,31,11,"sound"],[43,18,31,16],[43,20,31,18],[44,10,32,8,"console"],[44,17,32,15],[44,18,32,16,"error"],[44,23,32,21],[44,24,32,22],[44,33,32,31,"trackId"],[44,40,32,38],[44,53,32,51],[44,54,32,52],[45,10,33,8],[46,8,34,6],[47,8,36,6],[47,14,36,12,"status"],[47,20,36,18],[47,23,36,21],[47,29,36,27,"sound"],[47,34,36,32],[47,35,36,33,"getStatusAsync"],[47,49,36,47],[47,50,36,48],[47,51,36,49],[48,8,37,6],[48,14,37,12,"adjustedVolume"],[48,28,37,26],[48,31,37,30,"volume"],[48,37,37,36],[48,40,37,39],[48,43,37,42],[48,46,37,46],[48,50,37,50],[48,51,37,51,"masterVolumeCap"],[48,66,37,66],[49,8,39,6],[49,12,39,10,"status"],[49,18,39,16],[49,19,39,17,"isLoaded"],[49,27,39,25],[49,29,39,27],[50,10,40,8],[50,16,40,14,"sound"],[50,21,40,19],[50,22,40,20,"setVolumeAsync"],[50,36,40,34],[50,37,40,35,"adjustedVolume"],[50,51,40,49],[50,52,40,50],[51,10,42,8],[51,14,42,12],[51,15,42,13,"status"],[51,21,42,19],[51,22,42,20,"isPlaying"],[51,31,42,29],[51,33,42,31],[52,12,43,10],[52,18,43,16,"sound"],[52,23,43,21],[52,24,43,22,"playAsync"],[52,33,43,31],[52,34,43,32],[52,35,43,33],[53,10,44,8],[54,8,45,6],[55,6,46,4],[55,7,46,5],[55,8,46,6],[55,15,46,13,"error"],[55,20,46,18],[55,22,46,20],[56,8,47,6,"console"],[56,15,47,13],[56,16,47,14,"error"],[56,21,47,19],[56,22,47,20],[56,45,47,43,"trackId"],[56,52,47,50],[56,55,47,53],[56,57,47,55,"error"],[56,62,47,60],[56,63,47,61],[57,6,48,4],[58,4,49,2],[59,4,51,2],[59,10,51,8,"stopSound"],[59,19,51,17,"stopSound"],[59,20,51,18,"trackId"],[59,27,51,33],[59,29,51,50],[60,6,52,4],[60,10,52,8],[61,8,53,6],[61,14,53,12,"sound"],[61,19,53,17],[61,22,53,20],[61,26,53,24],[61,27,53,25,"sounds"],[61,33,53,31],[61,34,53,32,"get"],[61,37,53,35],[61,38,53,36,"trackId"],[61,45,53,43],[61,46,53,44],[62,8,54,6],[62,12,54,10],[62,13,54,11,"sound"],[62,18,54,16],[62,20,54,18],[63,8,56,6],[63,14,56,12,"status"],[63,20,56,18],[63,23,56,21],[63,29,56,27,"sound"],[63,34,56,32],[63,35,56,33,"getStatusAsync"],[63,49,56,47],[63,50,56,48],[63,51,56,49],[64,8,57,6],[64,12,57,10,"status"],[64,18,57,16],[64,19,57,17,"isLoaded"],[64,27,57,25],[64,31,57,29,"status"],[64,37,57,35],[64,38,57,36,"isPlaying"],[64,47,57,45],[64,49,57,47],[65,10,58,8],[65,16,58,14,"sound"],[65,21,58,19],[65,22,58,20,"stopAsync"],[65,31,58,29],[65,32,58,30],[65,33,58,31],[66,10,59,8],[66,16,59,14,"sound"],[66,21,59,19],[66,22,59,20,"setPositionAsync"],[66,38,59,36],[66,39,59,37],[66,40,59,38],[66,41,59,39],[67,8,60,6],[68,6,61,4],[68,7,61,5],[68,8,61,6],[68,15,61,13,"error"],[68,20,61,18],[68,22,61,20],[69,8,62,6,"console"],[69,15,62,13],[69,16,62,14,"error"],[69,21,62,19],[69,22,62,20],[69,46,62,44,"trackId"],[69,53,62,51],[69,56,62,54],[69,58,62,56,"error"],[69,63,62,61],[69,64,62,62],[70,6,63,4],[71,4,64,2],[72,4,66,2],[72,10,66,8,"setVolume"],[72,19,66,17,"setVolume"],[72,20,66,18,"trackId"],[72,27,66,33],[72,29,66,35,"volume"],[72,35,66,49],[72,37,66,66],[73,6,67,4],[73,10,67,8],[74,8,68,6],[74,14,68,12,"sound"],[74,19,68,17],[74,22,68,20],[74,26,68,24],[74,27,68,25,"sounds"],[74,33,68,31],[74,34,68,32,"get"],[74,37,68,35],[74,38,68,36,"trackId"],[74,45,68,43],[74,46,68,44],[75,8,69,6],[75,12,69,10],[75,13,69,11,"sound"],[75,18,69,16],[75,20,69,18],[76,8,71,6],[76,14,71,12,"adjustedVolume"],[76,28,71,26],[76,31,71,30,"volume"],[76,37,71,36],[76,40,71,39],[76,43,71,42],[76,46,71,46],[76,50,71,50],[76,51,71,51,"masterVolumeCap"],[76,66,71,66],[77,8,72,6],[77,14,72,12,"sound"],[77,19,72,17],[77,20,72,18,"setVolumeAsync"],[77,34,72,32],[77,35,72,33,"adjustedVolume"],[77,49,72,47],[77,50,72,48],[78,6,73,4],[78,7,73,5],[78,8,73,6],[78,15,73,13,"error"],[78,20,73,18],[78,22,73,20],[79,8,74,6,"console"],[79,15,74,13],[79,16,74,14,"error"],[79,21,74,19],[79,22,74,20],[79,50,74,48,"trackId"],[79,57,74,55],[79,60,74,58],[79,62,74,60,"error"],[79,67,74,65],[79,68,74,66],[80,6,75,4],[81,4,76,2],[82,4,78,2],[82,10,78,8,"stopAll"],[82,17,78,15,"stopAll"],[82,18,78,15],[82,20,78,33],[83,6,79,4],[83,10,79,8],[84,8,80,6],[84,14,80,12,"promises"],[84,22,80,20],[84,25,80,23,"Array"],[84,30,80,28],[84,31,80,29,"from"],[84,35,80,33],[84,36,80,34],[84,40,80,38],[84,41,80,39,"sounds"],[84,47,80,45],[84,48,80,46,"keys"],[84,52,80,50],[84,53,80,51],[84,54,80,52],[84,55,80,53],[84,56,80,54,"map"],[84,59,80,57],[84,60,80,58,"id"],[84,62,80,60],[84,66,80,64],[84,70,80,68],[84,71,80,69,"stopSound"],[84,80,80,78],[84,81,80,79,"id"],[84,83,80,81],[84,84,80,82],[84,85,80,83],[85,8,81,6],[85,14,81,12,"Promise"],[85,21,81,19],[85,22,81,20,"all"],[85,25,81,23],[85,26,81,24,"promises"],[85,34,81,32],[85,35,81,33],[86,6,82,4],[86,7,82,5],[86,8,82,6],[86,15,82,13,"error"],[86,20,82,18],[86,22,82,20],[87,8,83,6,"console"],[87,15,83,13],[87,16,83,14,"error"],[87,21,83,19],[87,22,83,20],[87,50,83,48],[87,52,83,50,"error"],[87,57,83,55],[87,58,83,56],[88,6,84,4],[89,4,85,2],[90,4,87,2],[90,10,87,8,"unloadAll"],[90,19,87,17,"unloadAll"],[90,20,87,17],[90,22,87,35],[91,6,88,4],[91,10,88,8],[92,8,89,6],[92,13,89,11],[92,19,89,17],[92,20,89,18,"id"],[92,22,89,20],[92,24,89,22,"sound"],[92,29,89,27],[92,30,89,28],[92,34,89,32],[92,38,89,36],[92,39,89,37,"sounds"],[92,45,89,43],[92,46,89,44,"entries"],[92,53,89,51],[92,54,89,52],[92,55,89,53],[92,57,89,55],[93,10,90,8],[93,16,90,14,"sound"],[93,21,90,19],[93,22,90,20,"unloadAsync"],[93,33,90,31],[93,34,90,32],[93,35,90,33],[94,10,91,8],[94,14,91,12],[94,15,91,13,"sounds"],[94,21,91,19],[94,22,91,20,"delete"],[94,28,91,26],[94,29,91,27,"id"],[94,31,91,29],[94,32,91,30],[95,8,92,6],[96,6,93,4],[96,7,93,5],[96,8,93,6],[96,15,93,13,"error"],[96,20,93,18],[96,22,93,20],[97,8,94,6,"console"],[97,15,94,13],[97,16,94,14,"error"],[97,21,94,19],[97,22,94,20],[97,47,94,45],[97,49,94,47,"error"],[97,54,94,52],[97,55,94,53],[98,6,95,4],[99,4,96,2],[100,2,97,0],[101,2,99,7],[101,8,99,13,"audioManager"],[101,20,99,25],[101,23,99,28],[101,27,99,32,"AudioManager"],[101,39,99,44],[101,40,99,45],[101,41,99,46],[102,0,99,47],[102,3]],"functionMap":{"names":["<global>","AudioManager","AudioManager#loadSound","AudioManager#playSound","AudioManager#stopSound","AudioManager#setVolume","AudioManager#stopAll","Array.from.map$argument_0","AudioManager#unloadAll"],"mappings":"AAA;OCG;ECI;GDkB;EEE;GFqB;EGE;GHa;EIE;GJU;EKE;0DCE,wBD;GLK;EOE;GPS;CDC"},"hasCjsExports":false},"type":"js/module"}]}